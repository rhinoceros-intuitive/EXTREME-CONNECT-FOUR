<!doctype html> 
<html lang="en"> 
<head> 
	<meta charset="UTF-8" />
	<title>EXTREME</title>
	<script type="text/javascript" src="js/phaser.min.js"></script>
    <script type="text/javascript" src="js/Chip.js"></script>
    <style type="text/css">
        body {
            margin: 0;
        }
    </style>
</head>
<body>

<script type="text/javascript">


var game = new Phaser.Game(800, 600, Phaser.AUTO, 'phaser-example', { preload: preload, create: create, update: update });
var leftback = false;


function preload() {



}

function create() {

    game.physics.startSystem(Phaser.Physics.ARCADE);

    game.add.sprite(0, 0, 'grid');

    leftchip = game.add.sprite(150, 500, 'leftchip');
    midchip = game.add.sprite(300, 500, 'midchip');
    rightchip = game.add.sprite(450, 500, 'rightchip');

    //  Input Enable the sprites
    leftchip.inputEnabled = true;
    midchip.inputEnabled = true;
    rightchip.inputEnabled = true;

    game.physics.arcade.enable(leftchip, Phaser.Physics.ARCADE);


        //  Allow dragging - the 'true' parameter will make the sprite snap to the center
    leftchip.input.enableDrag(true, true);
    midchip.input.enableDrag(true, true);
    rightchip.input.enableDrag(true, true);

    leftchip.events.onDragStart.add(takeLeft, this);
    leftchip.events.onDragStop.add(returnLeft, this);


}

function update()   {
    if (game.physics.arcade.distanceToXY(leftchip, 150, 500) < 5)   {
        leftchip.body.moves = false;
        leftback = false;
    }
    if (leftback)   {
        game.physics.arcade.moveToXY(leftchip, 150, 500, 1000, 100);   
    }    
}

function takeLeft() {

    leftchip.body.moves = false;
}

function returnLeft()   {
    leftchip.body.moves = true;
    game.physics.arcade.accelerateToXY(leftchip, 150, 500, 500)
    leftback = true;

}

</script>

</body>
</html>